[heater_bed]
heater_pin: P4.28
sensor_type: EPCOS 100K B57560G104F
sensor_pin: P0.24
control: pid
pid_Kp: 15
pid_Ki: 0.5
pid_Kd: 25
min_temp: -100
max_temp: 130

[gcode_macro M140]
rename_existing: M141
gcode:
    {% if printer["gcode_button five_axis_module"].state == "RELEASED" %}
        {% if "z" in printer.toolhead.homed_axes and printer.gcode_move.position.z > 180 %}
            G0 Z180
        {% endif %}
        M141 S{ params.S }
    {% endif %}

[gcode_macro M190]
rename_existing: M191
gcode:
    {% if printer["gcode_button five_axis_module"].state == "RELEASED" %}
        {% if "z" in printer.toolhead.homed_axes and printer.gcode_move.position.z > 180 %}
            G0 Z180
        {% endif %}
        STATUS_LED STATUS=started
        M191 S{ params.S }
        STATUS_LED STATUS=printing
    {% endif %}

[bed_screws]
screw1: 107,200
screw1_fine_adjust: 107,15
screw2: 10,15
screw3: 185,15

[gcode_macro Z_ENDSTOP_CALIBRATE]
rename_existing: Z_ENDSTOP_CALIBRATE_OLD
gcode:
    G54
    TURN_OFF_HEATERS
    G28
    G92 E0
    G0 X100 Y100 Z10
    Z_ENDSTOP_CALIBRATE_OLD

[gcode_macro ACCEPT_Z_ENDSTOP]
gcode:
    ACCEPT
    G28 Z
    SAVE_CONFIG
    BED_SCREWS_ADJUST

